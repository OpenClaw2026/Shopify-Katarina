<header class="site-header" role="banner">
  {% if section.settings.display_header_top_text %}
    {% if section.settings.header_top_text != blank %}
    <div class="header-top">
      <div class="container-fluid"> 
        <div class="top-msg-slider">
          {% if section.settings.header_top_text != '' %}
          {% include 'multilang' with section.settings.header_top_text  %}
          {% endif %}
          {% if section.settings.header_top_text2 != '' %}
          {% include 'multilang' with section.settings.header_top_text2  %}
          {% endif %}
        </div>
        {% comment %}<a href="javascript:void(0)" class="close">close</a>{% endcomment %}
      </div>
    </div>
    <script>
      jQuery.cookie('headerTop', 'on');
      if (jQuery.cookie('headerTop') == 'closed') {
        jQuery('.header-top').remove();
      }

      jQuery('.header-top a.close').bind('click',function(){
        jQuery('.header-top').remove();
        jQuery.cookie('headerTop', 'closed', {expires:1, path:'/'});
      });  
  </script>
    {% endif %}
  {% endif %}
  
  <div class="header-bottom">
      <div class="header-mobile">
        <div class="menu-block visible-phone"><!-- start Navigation Mobile  -->
          <div id="showLeftPush">
            <span></span>
          </div>
        </div><!-- end Navigation Mobile  --> 
        <div class="customer-area dropdown">
          <a class="icon_customer" data-toggle="dropdown" href="#"></a>
          <div class="dropdown-menu" role="menu" aria-labelledby="dLabel">
            <p>
  			{% if customer %}
            <label>Hello, {{customer.last_name}}</label>
    		<a id="customer_logout_link" href="/account/logout" {% if settings.enable_multilang %}data-translate="layout.customer.log_out"{% endif %}>{{ 'layout.customer.log_out' | t }}</a>
            {% else %}
            <a id="customer_login_link" href="/account/login" {% if settings.enable_multilang %}data-translate="customer.login.sign_in"{% endif %}>{{ 'customer.login.sign_in' | t }}</a>
            {% if shop.customer_accounts_optional %}
            <span class="or" {% if settings.enable_multilang %}data-translate="cart.label.or"{% endif %}>{{ 'cart.label.or' | t }}</span>
            <a id="customer_register_link" href="/account/register" {% if settings.enable_multilang %}data-translate="layout.customer.create_account"{% endif %}>{{ 'layout.customer.create_account' | t }}</a>
            {% endif %}
             {% endif %}
            </p>
            <p {% if customer %}class="login"{% endif %}>
              <a href="/account" {% if settings.enable_multilang %}data-translate="customer.account.title"{% endif %}>{{ 'customer.account.title' | t }}</a>
            </p>
            <div class="wishlist">
              <a href="/pages/wish-list" {% if settings.enable_multilang %}data-translate="wishlist.general.my_wishlist"{% endif %}>
              {{ 'wishlist.general.my_wishlist' | t }}
              </a>
            </div>
          </div>
        </div>
        <div class="ls-config lang-cur">
        <a data-toggle="dropdown" href="#" class="currencies-modal">
         <span class="active-item"></span>
        </a>
        <div class="dropdown-menu" role="menu" aria-labelledby="dLabel">
          <div class="mobile-lang">
            {% if settings.enable_multilang %}
            <span {% if settings.enable_multilang %}data-translate="general.language.lang_mb"{% endif %}>{{ 'general.language.lang_mb' | t }}:</span>
           
                <div class="lang-block">
                  <select class="lang-switcher">
                    <option value="1">{{ settings.lange_1 }}</option>
                    <option value="2">{{ settings.lange_2 }}</option>
                  </select>
                </div>
            {% endif %}
          </div>
          <div class="mobile-currency">
            {% if settings.enable_multiple_currencies %}
            <span {% if settings.enable_multilang %}data-translate="general.language.currency_mb"{% endif %}>{{ 'general.language.currency_mb' | t }}:</span>
            {% include 'new-currency-picker' %}
            {% endif %}
          </div>
        </div>
        </div>
        {% include 'dropdown-cart' %}
      </div>
      
      <div class="header-panel">
        <div class="top-header-panel">
          <div class="container-fluid">
          	<div class="header-panel-bottom">
              <div class="header-panel-top">
                {% if settings.enable_multilang %}
                <div class="lang-block">
                  <select class="lang-switcher">
                    <option value="1">{{ settings.lange_1 }}</option>
                    <option value="2">{{ settings.lange_2 }}</option>
                  </select>
                </div>
                <script>
                  translator.updateLangSwitcher();
                  jQuery('.lang-switcher').selectize();          
                </script>
                <style>        
                .selectize-control div[data-value~="1"] {background: url({{ "i-lang-1.png" | asset_url }}) no-repeat;}        
                .selectize-control div[data-value~="2"] {background: url({{ "i-lang-2.png" | asset_url }}) no-repeat;}        
                </style>
                {% endif %}
                <ul class="head-left tac">
                  <li><div class="currency">{% include 'new-currency-picker' %}</div></li>
                  <li class="phone-icon"><a href="tel:888-528-2746">{% render 'phone-icon' %}</a></li>
                  <li class="envelope-icon"><a href="mailto:sales@katarina.com">{% render 'envelope-icon' %}</a></li>
                  <li class="chat-icon"><a href="javascript:void(0);" onclick="openChat();">{% render 'headset-icon' %}<span class="vam">Live chat</span></a></li>
                </ul>
                
                {% include 'customer_links' %}
              </div>
              <div class="hl-right-top">
                <a class="icon_search" href="javascript:void(0)">
              		<i class="fa fa-search"></i>
            	</a>
                <div class="nav-search on">
                  <div class="container">
                    <a class="icon_search" href="javascript:void(0)">Ã—</a>
                  	{% include 'search-bar' %}
                  </div>
                </div>
               {% if shop.customer_accounts_enabled %}
                <div class="ct_register">
                  <a href="/account" {% if settings.enable_multilang %}data-translate="customer.account.title"{% endif %}>{{ 'customer.account.title' | t }}</a>
                </div>
                {% endif %}
                <div class="top-header ">
                  {% include 'dropdown-cart' %}
                  {% comment %}
                  If customer accounts are enabled, provide login and create account links
                  {% endcomment %}

                </div> <!-- End Top Header -->                          
              </div>

              {% if section.settings.display_header_free_shipping and section.settings.header_free_shipping != blank %}
              	<div class="free_shipping">{% include 'multilang' with section.settings.header_free_shipping %}</div>
              {% endif %}
              </div>
            </div>
          </div>
          <div class="bottom-header-panel">
            <div class="container">
              <h1 class="header-logo">
                {% if section.settings.brand_type == 'image' %}
                <a href="/">
                   {% if section.settings.logo != bank %} 
                  <img src="{{ section.settings.logo | img_url: 'master' }}" alt="{{ section.settings.logo.alt | default: shop.name }}" itemprop="logo">
                  {% else %}
                    <a class="logo-title" href="/">{{shop.name}}</a>
                  {% endif %}
                  {% if section.settings.enable_retina %} 
                  <img src="{{ section.settings.logo_2x | img_url: 'master' }}" alt="{{ section.settings.logo_2x.alt | default: shop.name }}" itemprop="logo">
                  {% endif %}
                </a>
                {% elsif section.settings.brand_text != "" %}
                <a class="logo-title" href="/">{{ section.settings.brand_text }}</a>
                {% else %}
                <a class="logo-title" href="/">{{shop.name}}</a>
                {% endif %}
                </h1>
              
            </div>
             <div class="nav-search on visible-xs">{% include 'search-bar' %}</div>
          </div>
      </div>
  </div>
</header>
{% if settings.enable_multilang %}
<script>
  translator.doTranslate(".site-header");
</script>
{% endif %}
{% schema %}
  {
    "name": "Header and Logo",
    "settings": [
      {
        "type": "radio",
        "id": "brand_type",
        "label": "Use image or text for logo?",
        "options": [
          {
            "value": "text",
            "label": "Text"
          },
          {
            "value": "image",
            "label": "Image"
          }
        ],
        "default": "text"
      },
      {
        "type": "text",
        "id": "brand_text",
        "label": "Logo text"
      },
      {
       "type": "image_picker",
        "id": "logo",
        "label": "Logo image",
		"info": "250px x 80px recommended"
      },
	{
        "type": "text",
        "id": "min_height_logo_pc",
        "label": "Max Height of Logo"
      },
      {
        "type": "checkbox",
        "id": "enable_retina",
        "label": "Use Retina Logo",
        "default": true
      },
      {
        "type": "image_picker",
        "id": "logo_2x",
        "label": "Logo image is used when using Retina"
      },
	 {
        "type": "text",
        "id": "min_height_logo",
        "label": "Min Height of Logo"
      },
      {
        "type": "paragraph",
        "content": "Maximum logo dimensions are 500px wide by 200px high.Your uploaded file will be resized to fit within those constraints."
      },
 	  {
        "type": "header",
        "content": "Header Color"
      },
	  {
        "type": "color",
        "id": "bg_header_top_color",
        "label": " Header Top Background Color",
        "default": "#ff7677"
      },
      {
        "type": "color",
        "id": "text_header_top_color",
        "label": "Header Top Text Color",
        "default": "#fff"
      },
      {
        "type": "color",
        "id": "bg_header_bottom_color",
        "label": "Header Bottom Background Color",
        "default": "#fff"
      },
      {
        "type": "color",
        "id": "header_link_text_color",
        "label": "Header  Bottom Text Color",
        "default": "#323232"
      },
	  {
		"type" : "color",
		"id" : "boder_header",
		"label" : "Border color",
		"default" : "#eee"
	  },
      {
        "type": "header",
        "content": "Header Top"
      },
      {
        "type": "checkbox",
        "id": "display_header_top_text",
        "label": "Display Header Top?",
        "default": true
      },
      {
        "type": "richtext",
        "id": "header_top_text",
        "label": "Header Top Text 1"
      },
	  {
        "type": "richtext",
        "id": "header_top_text2",
        "label": "Header Top Text 2"
      },
      
	  {
		"type" : "header",
		"content" : "Change Hello Guest"
	  },
	  {
	  	"type" : "text",
		"id" : "text_hello",
		"label" : "Change Hello Guest",
		"default" : "Hello, Guest"
	  },
     
	  {
        "type": "header",
        "content": "Header Promotion Text"
      },
      {
        "type": "checkbox",
        "id": "display_header_free_shipping",
        "label": "Display Header Promotion Text?",
        "default": true
      },
      {
        "type": "richtext",
        "id": "header_free_shipping",
        "label": "Header Promotion Text"
      },
      {
        "type": "color",
        "id": "header_free_shipping_text_color",
        "label": "Header Promotion text Color",
        "default": "#000"
      },
      {
        "type": "header",
        "content": "Search"
      },
      {
        "type": "color",
        "id": "bg_search_color",
        "label": "Background Color",
        "default": "#fafafa"
      },
      {
        "type": "color",
        "id": "search_color",
        "label": "Search Color",
        "default": "#fff"
      },
      
      {
        "type": "header",
        "content": "Cart Header"
      },
      
      {
        "type": "radio",
        "id": "dropdowncart_type",
        "label": "When to show dropdown cart",
        "options": [
          {
            "value": "click",
            "label": "Click on the cart"
          },
          {
            "value": "hover",
            "label": "Hover on the cart"
          }
        ]
      }
    ]
  }
{% endschema %}
<script>

  window.dropdowncart_type = "{{ section.settings.dropdowncart_type }}";

</script>
<style>
.header-top { background: {{ section.settings.bg_header_top_color }}; color: {{ section.settings.text_header_top_color }}; }
.header-top a.link { color: {{ section.settings.text_header_top_color }}; }
.top-header-panel { background: {{ section.settings.bg_header_bottom_color }}; }
.header-bottom .selectize-dropdown, 
.header-bottom .selectize-input input,
.header-panel-bottom .free_shipping, .header-panel-bottom .free_shipping a { color: {{ section.settings.header_free_shipping_text_color }}; }
.header-bottom .selectize-control.single .selectize-input:after { border-top-color: {{ section.settings.header_free_shipping_text_color }}; }
.customer-links .fa,
.header-bottom .top-cart .fa-shopping-bag,
.header-bottom .search-bar .input-group-btn button.btn,
.customer-area .dropdown-menu a,
.header-bottom .top-cart a, 
.wrapper-top-cart .btn-check-out .btn,
.customer-links,.currency,
.header-bottom .selectize-control div.item{ color: {{ section.settings.header_link_text_color }};font-weight: 500; }
.header-bottom .selectize-control.single .selectize-input:after{border-top-color:{{ section.settings.header_link_text_color }};}
.header-bottom .selectize-control.single .selectize-input.dropdown-active:after{border-bottom-color:{{ section.settings.header_link_text_color }}; }
.customer-area .dropdown-menu a:hover,
.header-bottom .top-cart a:hover span.first{ border-bottom: 1px solid {{ section.settings.header_link_text_color }}; }
.header-bottom .selectize-control.single .selectize-input, .header-bottom .selectize-control.single .selectize-input input, .customer-links a, .ct_register a, a.icon_search{
	color: {{ section.settings.header_link_text_color }};
  	font-weight: 500;
}
  
.top-header-panel{
    border-bottom:1px solid {{ section.settings.boder_header}}
}
.currency .selectize-control, .ct_register{
    border-left: 1px solid {{ section.settings.boder_header}};
    border-right: 1px solid {{ section.settings.boder_header}};
}
a.icon_search{
    border-left: 1px solid {{ section.settings.boder_header}};
}
.hl-right-top .nav-search.on, .nav_search .nav-search{
  	color:{{section.settings.search_color}};
  	background:{{section.settings.bg_search_color}}
}
.hl-right-top .nav-search.on input.input-group-field, .hl-right-top .nav-search.on .btn-search .fa-search, .nav_search .nav-search .btn-search .fa-search{
  	color:{{section.settings.search_color}};
}
.hl-right-top .search-bar, .nav_search .search-bar{
      border-bottom: 1px solid {{section.settings.search_color}};
}
@media (min-width:1025px){
  .show_search .nav-search ::-webkit-input-placeholder{ 
      color:{{section.settings.search_color}};
  }
  .show_search  .nav-search ::-moz-placeholder{ 
       color:{{section.settings.search_color}};
  }
  .show_search .nav-search :-ms-input-placeholder {
      color:{{section.settings.search_color}};
  }
  .show_search  .nav-search :-moz-placeholder{ 
      color:{{section.settings.search_color}};
  }
  
  .nav_search .nav-search ::-webkit-input-placeholder{ 
    	color:{{section.settings.search_color}}!important;
  }
  .show_search  .nav-search ::-moz-placeholder{ 
    	color:{{section.settings.search_color}}!important;
  }
  .nav_search .nav-search :-ms-input-placeholder {
    	color:{{section.settings.search_color}}!important;
  }
  .nav_search .nav-search :-moz-placeholder{ 
    	color:{{section.settings.search_color}}!important;
  }
}
.show_search .icon_search{
  	color:{{section.settings.search_color}};
  	border:1px solid {{section.settings.search_color}}
}
  
  {% if section.settings.enable_retina %}
  @media (min--moz-device-pixel-ratio: 1.3),
    (-o-min-device-pixel-ratio: 2.6/2),
    (-webkit-min-device-pixel-ratio: 1.3),
    (min-device-pixel-ratio: 1.3),
    (min-resolution: 1.3dppx) {
      .header-logo img:not(:first-child) { display: inline-block; max-height: {{section.settings.min_height_logo}}px; }
      .header-logo img:first-child { display: none; }
    }
{% endif %}
  .header-logo img:first-child {   max-height: {{section.settings.min_height_logo_pc}}px;}
</style>

